# ğŸ¯ English Pronunciation Assessment App

**[English](#english)** | **[æ—¥æœ¬èª](#æ—¥æœ¬èª)** | **[EspaÃ±ol](#espaÃ±ol)**

---

<a name="english"></a>
## ğŸ‡ºğŸ‡¸ English

### Overview

A web application for assessing English pronunciation and speaking skills, designed for university students. Built with Streamlit, Azure Speech Services, OpenAI GPT-4o, and Speechace API.

### âœ¨ Features

- **Reading Task Assessment**: Phoneme-level detailed analysis
- **Speaking Task Assessment**: Comprehensive evaluation of pronunciation, fluency, and prosody
- **International Standard Scores**: CEFR / TOEFL / IELTS conversion
- **AI Feedback**: Teacher-style comments generated by GPT-4o
- **History Management**: SQLite-based evaluation history with CSV export
- **Customization**: University, class, and task name settings

### ğŸ“¦ Two Versions

| Version | Engine | Features |
|---------|--------|----------|
| Azure (`app_azure.py`) | Azure Speech | Phoneme-level analysis, long audio support |
| Speechace (`app_speechace.py`) | Speechace API | IELTS/TOEFL official standards, word-level scores |

### ğŸš€ Setup

#### Requirements

- Python 3.9+
- Azure Speech API Key ([Get it here](https://azure.microsoft.com/products/cognitive-services/speech-services/))
- OpenAI API Key ([Get it here](https://platform.openai.com/api-keys))
- Speechace API Key (optional, [Get it here](https://www.speechace.com/))

#### Installation
```bash
git clone https://github.com/koach08/english-speech-assessment-versionup.git
cd english-speech-assessment-versionup

python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

pip install -r requirements.txt
```

#### Configuration
```bash
cp .env.example .env
# Edit .env and add your API keys
```

**âš ï¸ Important**: Never commit your `.env` file or share your API keys publicly.

#### Run
```bash
# Azure version (port 8501)
export AZURE_SPEECH_KEY="your_key"
export AZURE_SPEECH_REGION="your_region"
export OPENAI_API_KEY="your_key"
streamlit run app_azure.py --server.port 8501

# Speechace version (port 8502)
export SPEECHACE_API_KEY="your_key"
export OPENAI_API_KEY="your_key"
streamlit run app_speechace.py --server.port 8502
```

Access http://localhost:8501 in your browser.

### ğŸ“– Usage

1. Enter student information (ID, name, class, task name)
2. Select task type (Reading/Speaking)
3. Upload audio file (MP3, WAV, M4A, etc.)
4. Click "Run Assessment"
5. Review results and AI feedback

### âš™ï¸ Customization

Edit `class_config.json`:
```json
{
  "university": "Your University",
  "department": "Your Department",
  "classes": ["English I", "English II", "TOEIC Prep"],
  "tasks": ["Task 1", "Task 2", "Midterm"]
}
```

---

<a name="æ—¥æœ¬èª"></a>
## ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª

### æ¦‚è¦

å¤§å­¦ç”Ÿå‘ã‘ã®è‹±èªç™ºéŸ³ãƒ»ã‚¹ãƒ”ãƒ¼ã‚­ãƒ³ã‚°è©•ä¾¡Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚Streamlitã€Azure Speech Servicesã€OpenAI GPT-4oã€Speechace APIã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

### âœ¨ æ©Ÿèƒ½

- **éŸ³èª­èª²é¡Œè©•ä¾¡**: éŸ³ç´ ãƒ¬ãƒ™ãƒ«ã®è©³ç´°åˆ†æ
- **ã‚¹ãƒ”ãƒ¼ã‚­ãƒ³ã‚°èª²é¡Œè©•ä¾¡**: ç™ºéŸ³ãƒ»æµæš¢ã•ãƒ»ãƒ—ãƒ­ã‚½ãƒ‡ã‚£ã®ç·åˆè©•ä¾¡
- **å›½éš›åŸºæº–ã‚¹ã‚³ã‚¢**: CEFR / TOEFL / IELTS æ›ç®—
- **AIãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: GPT-4oã«ã‚ˆã‚‹æ•™å“¡ã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚³ãƒ¡ãƒ³ãƒˆç”Ÿæˆ
- **å±¥æ­´ç®¡ç†**: SQLiteã«ã‚ˆã‚‹è©•ä¾¡å±¥æ­´ä¿å­˜ãƒ»CSVå‡ºåŠ›
- **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**: å¤§å­¦ãƒ»ã‚¯ãƒ©ã‚¹ãƒ»èª²é¡Œåã®è¨­å®š

### ğŸ“¦ 2ã¤ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ã‚¨ãƒ³ã‚¸ãƒ³ | ç‰¹å¾´ |
|-----------|----------|------|
| Azureç‰ˆ (`app_azure.py`) | Azure Speech | éŸ³ç´ ãƒ¬ãƒ™ãƒ«è©³ç´°åˆ†æã€é•·æ™‚é–“éŸ³å£°å¯¾å¿œ |
| Speechaceç‰ˆ (`app_speechace.py`) | Speechace API | IELTS/TOEFLå…¬å¼åŸºæº–ã€å˜èªåˆ¥ã‚¹ã‚³ã‚¢ |

### ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### å¿…è¦ãªã‚‚ã®

- Python 3.9ä»¥ä¸Š
- Azure Speech APIã‚­ãƒ¼ï¼ˆ[å–å¾—æ–¹æ³•](https://azure.microsoft.com/ja-jp/products/cognitive-services/speech-services/)ï¼‰
- OpenAI APIã‚­ãƒ¼ï¼ˆ[å–å¾—æ–¹æ³•](https://platform.openai.com/api-keys)ï¼‰
- Speechace APIã‚­ãƒ¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€[å–å¾—æ–¹æ³•](https://www.speechace.com/)ï¼‰

#### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
git clone https://github.com/koach08/english-speech-assessment-versionup.git
cd english-speech-assessment-versionup

python3 -m venv venv
source venv/bin/activate

pip install -r requirements.txt
```

#### ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
```bash
cp .env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦APIã‚­ãƒ¼ã‚’è¨­å®š
```

**âš ï¸ é‡è¦**: `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒŸãƒƒãƒˆã—ãŸã‚Šã€APIã‚­ãƒ¼ã‚’å…¬é–‹ã—ãªã„ã§ãã ã•ã„ã€‚

#### èµ·å‹•
```bash
# Azureç‰ˆï¼ˆãƒãƒ¼ãƒˆ8501ï¼‰
export AZURE_SPEECH_KEY="your_key"
export AZURE_SPEECH_REGION="your_region"
export OPENAI_API_KEY="your_key"
streamlit run app_azure.py --server.port 8501

# Speechaceç‰ˆï¼ˆãƒãƒ¼ãƒˆ8502ï¼‰
export SPEECHACE_API_KEY="your_key"
export OPENAI_API_KEY="your_key"
streamlit run app_speechace.py --server.port 8502
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:8501 ã«ã‚¢ã‚¯ã‚»ã‚¹

### ğŸ“– ä½¿ã„æ–¹

1. å­¦ç”Ÿæƒ…å ±ï¼ˆå­¦ç±ç•ªå·ã€æ°åã€ã‚¯ãƒ©ã‚¹ã€èª²é¡Œåï¼‰ã‚’å…¥åŠ›
2. èª²é¡Œã‚¿ã‚¤ãƒ—ï¼ˆéŸ³èª­/ã‚¹ãƒ”ãƒ¼ã‚­ãƒ³ã‚°ï¼‰ã‚’é¸æŠ
3. éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆMP3, WAV, M4Aç­‰ï¼‰
4. ã€Œè©•ä¾¡ã‚’å®Ÿè¡Œã€ã‚’ã‚¯ãƒªãƒƒã‚¯
5. çµæœã¨AIãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ç¢ºèª

### âš™ï¸ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

`class_config.json`ã‚’ç·¨é›†ï¼š
```json
{
  "university": "â—‹â—‹å¤§å­¦",
  "department": "â—‹â—‹å­¦éƒ¨",
  "classes": ["è‹±èªI", "è‹±èªII", "TOEICå¯¾ç­–"],
  "tasks": ["èª²é¡Œ1", "èª²é¡Œ2", "ä¸­é–“ãƒ†ã‚¹ãƒˆ"]
}
```

---

<a name="espaÃ±ol"></a>
## ğŸ‡ªğŸ‡¸ EspaÃ±ol

### DescripciÃ³n

Una aplicaciÃ³n web para evaluar la pronunciaciÃ³n y las habilidades de habla en inglÃ©s, diseÃ±ada para estudiantes universitarios. Construida con Streamlit, Azure Speech Services, OpenAI GPT-4o y Speechace API.

### âœ¨ CaracterÃ­sticas

- **EvaluaciÃ³n de lectura**: AnÃ¡lisis detallado a nivel de fonemas
- **EvaluaciÃ³n de habla**: EvaluaciÃ³n integral de pronunciaciÃ³n, fluidez y prosodia
- **Puntuaciones estÃ¡ndar internacional**: ConversiÃ³n CEFR / TOEFL / IELTS
- **RetroalimentaciÃ³n con IA**: Comentarios estilo profesor generados por GPT-4o
- **GestiÃ³n de historial**: Historial de evaluaciones con SQLite y exportaciÃ³n CSV
- **PersonalizaciÃ³n**: ConfiguraciÃ³n de universidad, clases y nombres de tareas

### ğŸ“¦ Dos Versiones

| VersiÃ³n | Motor | CaracterÃ­sticas |
|---------|-------|-----------------|
| Azure (`app_azure.py`) | Azure Speech | AnÃ¡lisis a nivel de fonemas, soporte para audio largo |
| Speechace (`app_speechace.py`) | Speechace API | EstÃ¡ndares oficiales IELTS/TOEFL, puntuaciones por palabra |

### ğŸš€ ConfiguraciÃ³n

#### Requisitos

- Python 3.9+
- Clave API de Azure Speech ([Obtener aquÃ­](https://azure.microsoft.com/products/cognitive-services/speech-services/))
- Clave API de OpenAI ([Obtener aquÃ­](https://platform.openai.com/api-keys))
- Clave API de Speechace (opcional, [Obtener aquÃ­](https://www.speechace.com/))

#### InstalaciÃ³n
```bash
git clone https://github.com/koach08/english-speech-assessment-versionup.git
cd english-speech-assessment-versionup

python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

pip install -r requirements.txt
```

#### ConfiguraciÃ³n de variables de entorno
```bash
cp .env.example .env
# Edita .env y aÃ±ade tus claves API
```

**âš ï¸ Importante**: Nunca hagas commit de tu archivo `.env` ni compartas tus claves API pÃºblicamente.

#### Ejecutar
```bash
# VersiÃ³n Azure (puerto 8501)
export AZURE_SPEECH_KEY="tu_clave"
export AZURE_SPEECH_REGION="tu_region"
export OPENAI_API_KEY="tu_clave"
streamlit run app_azure.py --server.port 8501

# VersiÃ³n Speechace (puerto 8502)
export SPEECHACE_API_KEY="tu_clave"
export OPENAI_API_KEY="tu_clave"
streamlit run app_speechace.py --server.port 8502
```

Accede a http://localhost:8501 en tu navegador.

### ğŸ“– Uso

1. Ingresa informaciÃ³n del estudiante (ID, nombre, clase, nombre de tarea)
2. Selecciona el tipo de tarea (Lectura/Habla)
3. Sube un archivo de audio (MP3, WAV, M4A, etc.)
4. Haz clic en "Ejecutar evaluaciÃ³n"
5. Revisa los resultados y la retroalimentaciÃ³n de IA

### âš™ï¸ PersonalizaciÃ³n

Edita `class_config.json`:
```json
{
  "university": "Tu Universidad",
  "department": "Tu Departamento",
  "classes": ["InglÃ©s I", "InglÃ©s II", "PreparaciÃ³n TOEIC"],
  "tasks": ["Tarea 1", "Tarea 2", "Examen parcial"]
}
```

---

## ğŸ“œ License / ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ / Licencia

MIT License - See [LICENSE](LICENSE) file

## ğŸ‘¤ Author / é–‹ç™ºè€… / Autor

Graduate School of Media and Communication, Hokkaido University  
åŒ—æµ·é“å¤§å­¦ å¤§å­¦é™¢ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç ”ç©¶é™¢  
Escuela de Posgrado de Medios y ComunicaciÃ³n, Universidad de Hokkaido

## ğŸ™ Acknowledgments / è¬è¾ / Agradecimientos

- [Azure Speech Services](https://azure.microsoft.com/products/cognitive-services/speech-services/)
- [OpenAI API](https://openai.com/api/)
- [Speechace API](https://www.speechace.com/)
- [Streamlit](https://streamlit.io/)

## ğŸ¤ Contributing / è²¢çŒ® / Contribuir

Pull requests are welcome! / ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ­“è¿ï¼ / Â¡Los pull requests son bienvenidos!

## â­ Star this repo / ã‚¹ã‚¿ãƒ¼ã‚’ãŠé¡˜ã„ã—ã¾ã™ / Dale una estrella

If you find this useful, please give it a star! â­  
å½¹ã«ç«‹ã£ãŸã‚‰ã‚¹ã‚¿ãƒ¼ã‚’ãŠé¡˜ã„ã—ã¾ã™ï¼â­  
Â¡Si te resulta Ãºtil, dale una estrella! â­
